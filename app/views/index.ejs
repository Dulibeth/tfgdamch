<!DOCTYPE html>
<html lang="es">
<head>
    <title>AudioFind - Búsqueda por Voz</title>
    <link rel="stylesheet" href="/stylesheets/styleIndex.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>

<header class="header">
    <div class="logo-container">
        <img src="/images/logo.png" alt="Logo AudioFind" class="logo">
        <span class="site-name">AudioFind</span>
    </div>
    <nav class="nav-buttons">
        <a href="/landing" class="header-btn">Cerrar Sesión</a>
    </nav>
</header>

<main class="dashboard">
    <div class="search-section">
        <div class="search-card">
            <h2>Búsqueda por voz</h2>

            <p>¿Cuántos minutos antes y después quieres escuchar?</p>
            <div class="time-selector">
                <button onclick="changeMinutes(-1)">-</button>
                <input type="text" id="time-range" value="2" readonly>
                <button onclick="changeMinutes(1)">+</button>
            </div>
            <p class="small-note">(Si no seleccionas, se traerá el audio completo)</p>

            <div class="mic-container" id="micContainer">
                <div class="mic-circle" id="micCircle"></div>
                <img src="/images/microphone.png" alt="Micrófono" class="mic-icon">
            </div>

            <button class="mic-btn" onclick="startRecording()">Decir palabra</button>

            <p id="detected-word">Palabra detectada: <strong>-</strong></p>
        </div>
    </div>

    <div class="results-section">
        <h2>Lista de Audios</h2>
        <div class="audio-list">
            <div class="audio-item">
                <span>Entrevista CEO.mp3</span>
                <button onclick="openPlayer('Entrevista CEO.mp3')">▶️</button>
            </div>
            <div class="audio-item">
                <span>Conferencia IA.mp3</span>
                <button onclick="openPlayer('Conferencia IA.mp3')">▶️</button>
            </div>
            <div class="audio-item">
                <span>Podcast Tecnología.mp3</span>
                <button onclick="openPlayer('Podcast Tecnología.mp3')">▶️</button>
            </div>
        </div>
    </div>
</main>

<div class="player-modal" id="playerModal">
    <div class="player-content">
        <h3 id="player-title">Reproduciendo...</h3>
        <audio id="audioPlayer" controls>
            <source src="mock-audio.mp3" type="audio/mp3">
        </audio>
        <div class="player-controls">
            <button onclick="seek(-10)">⏪ -10s</button>
            <button onclick="togglePlay()">▶️ / ⏸️</button>
            <button onclick="seek(10)">⏩ +10s</button>
        </div>
        <button class="close-btn" onclick="closePlayer()">Cerrar</button>
    </div>
</div>

<script src="/javascripts/index.js"></script>

</body>
</html>
